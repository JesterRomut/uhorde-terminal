@import "tailwindcss";
@plugin '@tailwindcss/typography';
@config "./tailwind.config.js";

@utility card-collectible {
    background: linear-gradient(to right, var(--color-amber-200), transparent)
        no-repeat left bottom;

    transition: color 0.5s;
    @media (any-hover: hover) {
        &:hover {
            color: var(--color-amber-200);
            cursor: help;
        }
    }

    animation: card-indicator 1s alternate infinite;
}

@keyframes card-indicator {
    0% {
        background-position-x: right;
        background-size: 0 2px;
    }
    50% {
        background-size: 100% 2px;
    }
    100% {
        background-position-x: left;
        background-size: 0 2px;
    }
}

@utility card-collected {
    opacity: 50%;
    cursor: auto;
}

@font-face {
    src: url("/fonts/MapleMonoNormalNL[wght].ttf") format("truetype-variations"),
        url("/fonts/MapleMonoNormalNL-Italic[wght].ttf")
            format("truetype-variations");
    font-family: "Maple";
    font-style: normal italic;
    font-weight: 400;
}

@layer base {
    [data-title]:hover:after {
        transition: transform 0.1s linear;
        transform: translateX(-50%) scaleY(100%);
        opacity: 1;
        visibility: visible;
    }
    [data-title]:after {
        content: attr(data-title);
        @apply bg-[image:linear-gradient(#0002,_transparent)] shadow-md shadow-gray-950/25
        backdrop-blur-md text-slate-300 rounded-sm fixed px-2 py-1 text-xs left-1/2 transform-[translateX(-50%)_scaleY(0%)] top-[2em]
        max-w-[100vw] z-99999;
        scale: initial, 0%;
        opacity: 0;
        visibility: hidden;
    }
    [data-title]:hover::before {
        content: " ";
        @apply absolute bottom-3/5 left-1/2 z-100000 ml-[-5px] border-solid;
        border-width: 5px;
        border-color: var(--color-slate-300) transparent transparent transparent;
    }
    [data-title] {
        @apply relative;
    }
}

@layer base {
    .tippy-box[data-theme~="console"] {
        @apply bg-[image:linear-gradient(#0002,_transparent)] shadow-md shadow-gray-950/25
        backdrop-blur-md text-slate-300 rounded-sm px-2 py-1 text-xs;

        .tippy-arrow {
            content: " ";
            @apply border-solid top-1/1 animate-console-blink-1/2s;
            border-width: 5px;
            border-color: var(--color-slate-300) transparent transparent
                transparent;
        }
    }
    .tippy-box[data-theme~="console-card"] {
        @apply scale-75;
    }
}

@layer base {
    * {
        font-family: Maple, "975Maru SC";
        font-weight: normal;
    }
    body {
        @apply bg-gray-950 text-slate-300;
    }
    img {
        image-rendering: pixelated;
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
    }
}

@theme {
    --animate-console-blink: console-blink 0.3s linear infinite;
    --animate-console-blink-1\/2s: console-blink 0.5s linear infinite;
    --animate-console-blink-1s: console-blink 1s linear infinite;
}

@keyframes console-blink {
    0%,
    49%,
    100% {
        opacity: 1;
    }
    50%,
    99% {
        opacity: 0;
    }
}
